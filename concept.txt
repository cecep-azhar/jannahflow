Business Requirements Document (BRD) - Mutabaah Keluarga App1. Visi ProdukMenciptakan ekosistem digital keluarga yang suportif untuk memantau, memotivasi, dan mengevaluasi kegiatan ibadah harian anggota keluarga guna mencapai kedekatan spiritual bersama.2. Kebutuhan Teknis (Stack)Framework: Next.js (App Router) - Memberikan performa cepat dengan Server Components.Database: SQLite (melalui libsql atau local file) - Ringan dan efisien untuk data level keluarga.ORM: Drizzle ORM - Type-safe database management.Styling: Tailwind CSS & Lucide Icons.Notifications: Integration with Telegram Bot API / WhatsApp Gateway (seperti Fonnte atau WA Automate).3. Fitur UtamaA. Dashboard InteraktifRingkasan Harian: Persentase penyelesaian ibadah keluarga hari ini.Leaderboard Motivasi: Peringkat poin berdasarkan konsistensi (bukan untuk riya, tapi kompetisi dalam kebaikan).Grafik Progress: Tren ibadah dalam 7 hari terakhir.B. Master DataData Keluarga: Input Nama, Peran (Ayah, Ibu, Anak), Foto Profil, dan Target Poin.Data Ibadah: Pengaturan jenis ibadah.Default: Shalat 5 Waktu, Sedekah, Puasa, Membantu Orang Tua, Tilawah.Sifat: Wajib atau Sunnah (mempengaruhi bobot poin).C. Input Mutabaah (Log Ibadah)Formulir sederhana berbasis tanggal.Input berupa checkbox (Ya/Tidak) atau counter (untuk Tilawah/Dzikir).Catatan kebaikan tambahan.D. ReportingLaporan bulanan per anggota keluarga.Export PDF/Excel untuk evaluasi mingguan saat "Family Time".E. Integrasi NotifikasiSetiap kali anggota keluarga menyimpan mutabaah, sistem mengirimkan pesan ke Grup Telegram Keluarga.Format: "[Nama] baru saja menyelesaikan Mutabaah hari ini! Total Poin: [X]. Semangat beribadah!"4. Skema Database (Drizzle)export const users = sqliteTable("users", {
  id: integer("id").primaryKey(),
  name: text("name").notNull(),
  role: text("role").notNull(), // 'Ayah', 'Ibu', 'Anak'
  telegramId: text("telegram_id"),
});

export const worships = sqliteTable("worships", {
  id: integer("id").primaryKey(),
  name: text("name").notNull(),
  category: text("category"), // 'Wajib', 'Sunnah'
  points: integer("points").default(10),
});

export const mutabaahLogs = sqliteTable("mutabaah_logs", {
  id: integer("id").primaryKey(),
  userId: integer("user_id").references(() => users.id),
  worshipId: integer("worship_id").references(() => worships.id),
  status: integer("status"), // 1: Done, 0: Not
  createdAt: text("created_at").default(sql`CURRENT_TIMESTAMP`),
});
5. Alur Notifikasi (Telegram)User klik "Simpan" di Form Input.Next.js API Route memproses penyimpanan ke SQLite.API Route memanggil fungsi sendTelegramNotification(message).Pesan dikirim ke chat ID grup keluarga menggunakan Bot Token.